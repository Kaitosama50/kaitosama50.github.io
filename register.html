<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>Register - Aniverse</title>
<link href="https://unpkg.com/boxicons@latest/css/boxicons.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Prompt:wght@400;600;700&display=swap" rel="stylesheet">
<style>
/* (คงดีไซน์เดิมทั้งหมดที่คุณส่งมา) */
*{margin:0;padding:0;box-sizing:border-box;font-family:'Prompt',sans-serif;}
body{height:100vh;display:flex;justify-content:center;align-items:center;overflow:hidden;color:#eee;background:linear-gradient(160deg,#0b0b14,#1a1028);position:relative;}
body::before{content:'';position:absolute;inset:0;background:radial-gradient(circle,rgba(255,255,255,0.05)1px,transparent 1px);background-size:10px 10px;z-index:0;pointer-events:none;}
.register-card{position:relative;width:420px;padding:40px 40px;background:rgba(30,15,60,0.85);border-radius:25px;backdrop-filter:blur(12px);box-shadow:0 0 40px rgba(120,60,255,0.5),0 0 60px rgba(80,40,200,0.2);text-align:center;z-index:1;overflow:hidden;}
.register-card .title{font-size:36px;font-weight:700;background:linear-gradient(90deg,#5a32a8,#8f5cff,#b58cff);-webkit-background-clip:text;color:transparent;margin-bottom:40px;}
.register-card input{width:95%;padding:12px 16px;margin:10px 0;font-size:15px;border-radius:12px;}
.register-card input::placeholder{color:#bbaaff;}
.register-card input:focus{box-shadow:0 0 12px rgba(140,80,255,0.7),inset 0 0 10px rgba(120,60,255,0.4);background:rgba(60,25,100,0.6);}
.register-card .btn-register{width:100%;padding:16px 0;font-size:18px;border-radius:50px;border:none;font-weight:700;cursor:pointer;color:#fff;background:linear-gradient(135deg,#5a32a8,#8f5cff);box-shadow:0 0 15px rgba(140,80,255,0.5),0 5px 15px rgba(80,40,200,0.2);transition:all 0.3s ease;position:relative;overflow:hidden;margin-top:20px;}
.register-card .btn-register::before{content:'';position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:rgba(255,255,255,0.05);transform:rotate(45deg);transition:all 0.5s ease;}
.register-card .btn-register:hover::before{top:-30%;left:-30%;}
.register-card .btn-register:hover{transform:scale(1.05);box-shadow:0 0 25px rgba(140,80,255,0.7),0 8px 20px rgba(80,40,200,0.3);}
.register-card .extra{margin-top:18px;font-size:13px;color:#ccc;}
.register-card .extra a{color:#bbaaff;text-decoration:none;transition:0.3s;}
.register-card .extra a:hover{color:#8f5cff;text-decoration:underline;}
.back-btn{position:absolute;top:15px;left:15px;width:44px;height:44px;border-radius:50%;border:none;background:linear-gradient(135deg,#5a32a8,#8f5cff);color:#fff;display:flex;align-items:center;justify-content:center;font-size:20px;cursor:pointer;box-shadow:0 0 12px rgba(140,80,255,0.5);transition:all 0.3s ease;}
.back-btn:hover{transform:scale(1.1);background:linear-gradient(90deg,#8f5cff,#5a32a8);}
</style>
</head>
<body>

<div class="register-card">
  <button class="back-btn" onclick="window.location.href='index.html'">
    <i class='bx bx-left-arrow-alt'></i>
  </button>

  <div class="title">ANIVERSE REGISTER</div>

  <input type="text" id="username" placeholder="ชื่อผู้ใช้">
  <input type="email" id="email" placeholder="อีเมล">
  <input type="password" id="password" placeholder="รหัสผ่าน">
  <input type="password" id="confirm-password" placeholder="ยืนยันรหัสผ่าน">

  <button class="btn-register" onclick="register()">สมัครสมาชิก</button>

  <div class="extra">
    มีบัญชีแล้ว? <a href="login.html">เข้าสู่ระบบ</a>
  </div>
</div>

<script>
function register() {
  const user = document.getElementById("username").value.trim();
  const email = document.getElementById("email").value.trim();
  const pass = document.getElementById("password").value.trim();
  const confirm = document.getElementById("confirm-password").value.trim();

  if(!user || !email || !pass || !confirm) {
    alert("กรุณากรอกข้อมูลให้ครบทุกช่อง");
    return;
  }

  if(pass !== confirm) {
    alert("รหัสผ่านไม่ตรงกัน");
    return;
  }

  // โหลดรายชื่อผู้ใช้เดิม
  let users = JSON.parse(localStorage.getItem("users")) || [];

  // ตรวจว่าชื่อซ้ำไหม
  const exists = users.some(u => u.username === user);
  if (exists) {
    alert("ชื่อผู้ใช้นี้ถูกใช้แล้ว กรุณาใช้ชื่ออื่น");
    return;
  }

  // บันทึกผู้ใช้ใหม่
  users.push({ username: user, email: email, password: pass });
  localStorage.setItem("users", JSON.stringify(users));

  alert("สมัครสมาชิกสำเร็จ! คุณสามารถเข้าสู่ระบบได้แล้ว");
  window.location.href = "login.html";
}
</script>

</body>
</html>
